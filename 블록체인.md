# 1. 블록체인의 정의와 핵심 특징

### 1.1 정의
여러 참여자가 함께 정보를 기록·검증·보관하여 중개자 없이도 데이터의 신뢰성을 확보하는 기술

* **1.1.1 블록**: 데이터를 담는 바구니
* **1.1.2 블록 검증**: 가득 찬 블록의 데이터 내용 검증
* **1.1.3 블록 연결**: 기존 블록과 가득 찬 블록 연결 (연결 시 이전 블록의 정보를 포함)
* **1.1.4 결과**: 블록이 차곡차곡 쌓여 형성된 데이터 기둥(체인)
* **1.1.5 장단점**
  * **장점**: 데이터 무경설 및 보안, 투명성, 중개 비용 절감
  * **단점**: 낮은 확장성과 속도, 가스비 부담

### 1.2 핵심 특징
* **1.2.1 탈중앙화**: 중앙 관리자 없이 참여자들이 정해진 규칙(알고리즘)에 따라 분산·협업하여 운영
* **1.2.2 투명성**: 다수의 참여 개체가 일관된 트랜잭션 상태를 공유하며, 누구나 거래 내역 조회 가능
* **1.2.3 불변성**: 한 번 기록된 정보는 수정/삭제가 불가능함 (무결성 및 부인 방지)
* **1.2.4 안정성**: 일부 노드(컴퓨터)에 오류가 발생해도 시스템 전체가 멈추지 않음 (SPOF 방지)

### 1.3 블록 구조 (주요 개념)
* **머클 루트 (Merkle Root)**: 각 하위 데이터를 2개씩 묶어 해싱하는 과정을 반복하여 얻은 최종 해시값
  * **효과**: 누군가 거래를 수정하면 머클 루트 값이 완전히 변하므로, 데이터 위변조 여부를 즉각 확인 가능

    - [참조 페이지](https://www.codestates.com/blog/content/%EB%B8%94%EB%A1%9D%EC%B2%B4%EC%9D%B8-%EA%B0%9C%EB%85%90)

---

# 2. 블록체인을 지탱하는 주요 기술

### 2.1 암호학적 해시 함수
* **정의**: 긴 데이터를 압축하여 고유한 길이(256bit 등)의 출력값으로 변환하는 알고리즘
* **성질**
  * **역상 저항성**: 해시값만 보고 원래의 입력 데이터를 찾는 것이 불가능함
  * **충돌 저항성**: 서로 다른 데이터가 같은 해시값을 가질 확률이 극도로 낮음

### 2.2 공개키 암호 및 전자 서명
* **공개키 암호**: 공개키(암호화/검증용)와 개인키(복호화/서명용) 쌍을 이용한 비대칭 암호 기술
* **전자 서명**: 
  * **서명 생성**: 메시지 + 개인키 $\rightarrow$ 전자 서명 생성
  * **서명 검증**: 메시지 + 전자 서명 + 공개키 $\rightarrow$ 유효성 확인

---

# 3. 블록체인 시스템 구성

### 3.1 아키텍처 및 시스템
* **SW 플랫폼**: 트랜잭션 관리, 스마트 컨트랙트, P2P 통신 등 핵심 프로세스 제공
* **시스템**: 운영정책 ,네트워크 구성 방법의 거버넌스정책에 따라 네트워크 구성, 공유, 구현
* **솔루션**: 블록체인 외부 시스템(오라클 등)과 연계 기능을 포함한 통합 서비스 모델

### 3.2 노드의 역할
1. **트랜잭션 생성/전파**: 거래 발생 시 네트워크에 알림
2. **검증**: 다른 노드가 생성한 거래나 블록의 유효성 확인
3. **블록 생성**: 검증된 거래를 모아 신규 블록 형성
4. **원장 관리**: 최신 블록체인 사본을 유지하고 상태 업데이트

### 3.3 트랜잭션 처리 과정 (Flow)
1. **요청**: 개체가 거래 생성을 요청
2. **생성**: 트랜잭션 생성
3. **전달**: 네트워크의 다른 노드들에게 전파
4. **검증**: 노드들이 트랜잭션의 정당성 확인
5. **블록 생성**: 권한 있는 노드가 거래를 모아 블록 형성
6. **스마트 컨트랙트**: 실행 결과가 있다면 블록에 포함
7. **블록 전달**: 생성된 블록을 전파
8. **블록 검증**: 수신된 블록 헤더와 데이터 검증
9. **반영**: 올바른 경우 자신의 원장 및 상태 DB 업데이트
10. **통지**: 요청자에게 작업 완료 알림

### 3.4. 트랜잭션, 블록, 원장
#### 3.4.1. 트랜잭션 (Transaction)
* **정의**: 자산의 이동 또는 생성과 같이 블록체인에서 발생하는 이벤트의 기록입니다.
* **구조**: 헤더, 입력, 출력, 전자 서명으로 구성됩니다.
    * **헤더**: 트랜잭션 버전, 타임스탬프 등 관련 정보들이 기록됩니다.
    * **입력·출력·전자 서명**: 스마트 컨트랙트의 실행 결과 등을 포함한 실제 처리 데이터입니다.
        * **스마트 컨트랙트**: 실행에 필요한 매개변수와 수행 결과가 기록되며, 실행 개체의 전자 서명이 포함됩니다.
        * **암호화폐**: 송금·수신 개체의 정보가 기록되며, 송금 개체의 전자 서명이 첨부됩니다.

#### 3.4.2. 블록 (Block)
* **정의**: 블록 헤더, 블록 데이터, 블록 검증 데이터로 이루어진 데이터 단위입니다.
* **구조**:
    * **헤더**: 블록 번호, 생성 시각, 현재 블록 데이터의 해시값, **이전 블록 헤더의 해시값**을 포함합니다.
    * **데이터**: 유효성이 검증된 다수의 트랜잭션을 포함합니다.
    * **검증 데이터**: 블록을 생성하는 개체의 공개키와 전자 서명 값을 포함하여 무결성을 보장합니다.

#### 3.4.3. 원장 (Ledger)
* **정의**: 참여 개체가 합의한 블록들을 체인으로 연결해 놓은 자료 구조입니다.
* **특성**:
    * **공유성**: 합의 프로토콜을 통해 모든 참여 개체가 동일한 원장을 공유합니다.
    * **완결성**: 원장에 기록된 블록이 삭제되지 않음을 보장합니다.
    * **불변성**: 해시 함수를 이용한 체인 구조를 통해 기록된 블록이 변조되지 않습니다.

---

# 4. 합의 프로토콜 및 스마트 컨트랙트

### 4.1 합의 프로토콜

* **정의**: 여려 참여 개체가 동일한 원장을 공유하기 위해 합의 프로토콜 사용
    * **비잔틴 장애**: 시스템에서 일부가 고장이거나 악의적인 데이터를 전송하여 합의를 방해하는 장애형태
    * **일반적 장애**: 노드가 멈추거나 충돌하는 장애형태

* **종류**
    * **PoW (작업 증명)**: 연산 능력을 통해 합의 (비트코인). 보안은 높지만 속도가 느리고 에너지 소모가 큼
    * **PoS (지분 증명)**: 보유 지분에 따라 권한 부여 (이더리움 2.0). 효율적이고 빠름

### 4.2 스마트 컨트랙트 (Smart Contract)
* **정의**: 블록체인 상에 기록되어 조건 충족 시 자동으로 실행되는 프로그램
* **특징**: 자동화, 투명성, 비용 절감 (결정론적 구조로 누구나 검증 가능)
* **장단점**: 높은 신뢰성과 효율성 / 수정의 어려움 및 가스비 발생

---

# 5. 스마트 컨트랙트

### 5.1. 정의
모든 실행 결과가 블록체인에 기록되는 블록체인 시스템상의 컴퓨터 프로그램입니다.

### 5.2. 특성
입력 매개 변수 외에는 블록체인에 기록된 데이터만을 사용하기 때문에 블록체인 시스템 내 어떤 참여 개체가 실행하더라도 같은 결과를 얻을 수 있고, 누구나 결과를 검증할 수 있습니다.
* **특성 종류**: 자동화, 불변성 및 위변조 불가, 투명성, 탈중앙화, 비용 절감, 보안성

### 5.3. 실행 과정
1. **트랜잭션 요청**: 스마트 컨트랙트를 실행하려는 개체는 해당 스마트 컨트랙트의 이름과 실행에 필요한 입력 매개 변수를 트랜잭션 생성 권한을 가진 개체에게 전달합니다.
2. **트랜잭션 생성**: 권한을 가진 개체는 전달받은 내용을 기반으로 트랜잭션을 생성하고, 이를 스마트 컨트랙트 실행 가능 개체에게 전달합니다.
3. **스마트 컨트랙트 실행**: 개체는 자신의 현재 **상태 DB**를 참고하여 컨트랙트를 실행하고, 그 결과를 트랜잭션에 덧붙여 블록 생성 노드에게 전달합니다.
4. **블록 생성**: 노드는 받은 트랜잭션을 블록에 포함하고, 실행 결과에 따라 자신의 원장과 상태 DB를 업데이트한 후 생성된 블록을 전파합니다.
5. **원장 내 블록 반영**: 블록을 전달받은 네트워크 내 개체들은 각자 자신의 원장과 상태 DB를 업데이트합니다.

### 5.4. 결과
실행 결과가 포함된 트랜잭션이 공유되므로, 블록체인 시스템 내 모든 개체는 자신의 상태 DB를 활용하여 스마트 컨트랙트가 올바르게 실행되었는지 검증할 수 있습니다.

### 5.5. 장단점
* **장점**: 높은 신뢰도, 효율적인 자동화, 거래 비용 절감
* **단점**: 수정 불가능(코드 오류 시 수정 어려움), 외부 데이터(오라클) 연동 제약, 가스비(수수료) 비용 발생

---

# 6. 블록체인 서비스

### 6.1. 탈중앙화 애플리케이션 (DApp)
* **정의**: 블록체인 솔루션 참여 개체가 시스템을 활용할 수 있도록 블록체인 시스템 상에서 운영되는 애플리케이션입니다.

### 6.2. 오프체인 저장소 (Off-chain Storage)
* **정의**: 블록체인 시스템과 연관이 있으나, 성능이나 용량 문제 등을 해결하기 위해 블록체인 외부(External)에 위치하여 수행 및 운영되는 저장소입니다.

### 6.3. 블록체인 오라클 (Blockchain Oracle)
* **정의**: 블록체인 시스템 외부에서 생성된 데이터(날씨, 주가, 뉴스 등)를 블록체인 네트워크 내부로 제공하는 서비스입니다.

---

# 7. 주요 용어 정리

| 용어 | 설명 |
| :--- | :--- |
| **가스비(Gas Fee)** | 네트워크 사용량에 따라 지불하는 트랜잭션 수수료 |
| **제네시스 블록** | 블록체인 네트워크에서 생성된 최초의 블록 |
| **하드포크** | 이전 버전과 호환되지 않는 대규모 업데이트 (체인 분리) |
| **스테이블 코인** | 달러 등 법정화폐와 가치가 연동되어 변동성이 낮은 코인 |
| **오라클 (Oracle)** | 외부 세상의 데이터를 블록체인 안으로 가져오는 브리지 서비스 |
| **노드** | 블록체인 시스템에 참여하여 네트워크 구성하는 기기 또는 프로그램 |


### 지갑 (Wallet) 분류
* **핫 월렛 (Hot Wallet)**: 인터넷에 연결된 지갑. 사용이 편리하지만 해킹 위험이 상대적으로 높음 (예: 메타마스크)
* **콜드 월렛 (Cold Wallet)**: 하드웨어 등 오프라인 상태의 지갑. 보안이 매우 강력하지만 사용 시 번거로움 (예: 렛저)